<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>PinchPoint â€“ Layout A: Revised</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet" />
<script>
tailwind.config = {
  theme: {
    extend: {
      fontFamily: {
        sans: ['DM Sans', 'system-ui', 'sans-serif'],
        mono: ['DM Mono', 'monospace'],
      },
    },
  },
}
</script>
<style>
  body { font-family: 'DM Sans', system-ui, sans-serif; }
  .tabular { font-variant-numeric: tabular-nums; }
</style>
</head>
<body class="bg-stone-50 min-h-screen antialiased">

<!-- Nav -->
<nav class="flex items-center justify-between max-w-[640px] mx-auto px-6 py-6">
  <span class="text-base font-semibold tracking-tight text-stone-900">PinchPoint</span>
  <div class="w-8 h-8 rounded-full bg-stone-200"></div>
</nav>

<main class="max-w-[640px] mx-auto px-6 pb-16 space-y-4">

  <!-- CARD 1: Status Panel (timer + status rows only) -->
  <div class="bg-white rounded-2xl border border-stone-200/80 shadow-sm overflow-hidden divide-y divide-stone-100">
    <!-- Timer -->
    <div class="px-6 pt-6 pb-5">
      <p class="text-xs font-medium text-stone-400 uppercase tracking-wider mb-1">Resets in</p>
      <p class="text-3xl font-bold text-emerald-600 tabular font-mono tracking-tight">4h 05m 49s</p>
      <p class="text-xs text-stone-400 mt-1">at 11:00 PM</p>
    </div>

    <!-- Status rows -->
    <div class="px-6 py-5 space-y-3">
      <div class="flex items-center justify-between">
        <span class="text-sm text-stone-500">Connection status</span>
        <span class="inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-xs font-medium bg-emerald-100 text-emerald-700">
          <span class="w-1.5 h-1.5 rounded-full bg-emerald-500"></span>
          Active
        </span>
      </div>
      <div class="flex items-center justify-between">
        <span class="text-sm text-stone-500">Token status</span>
        <span class="inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-xs font-medium bg-emerald-100 text-emerald-700">
          <span class="w-1.5 h-1.5 rounded-full bg-emerald-500"></span>
          Healthy
        </span>
      </div>
      <div class="flex items-center justify-between">
        <span class="text-sm text-stone-500">Last pinch</span>
        <span class="text-sm text-emerald-600">6:11 PM <span class="text-stone-400">(42m ago)</span></span>
      </div>
      <div class="flex items-center justify-between">
        <span class="text-sm text-stone-500">Next pinch</span>
        <span class="text-sm text-stone-600">Friday at 8:00 PM</span>
      </div>
    </div>
  </div>

  <!-- CARD 2: Schedule -->
  <div class="bg-white rounded-2xl border border-stone-200/80 shadow-sm overflow-hidden">
    <!-- Schedule Header -->
    <div class="px-6 pt-5 pb-3 border-b border-stone-100">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-3">
          <h2 class="text-xs font-bold text-stone-900 uppercase tracking-wider">Weekly Schedule</h2>
          <div class="flex items-center gap-3 ml-2">
            <div class="flex items-center gap-1">
              <div class="w-2.5 h-2.5 rounded-[2px] bg-emerald-500"></div>
              <span class="text-[10px] text-stone-400">ping</span>
            </div>
            <div class="flex items-center gap-1">
              <div class="w-2.5 h-2.5 rounded-[2px] bg-emerald-100"></div>
              <span class="text-[10px] text-stone-400">window</span>
            </div>
            <div class="flex items-center gap-1">
              <div class="w-2.5 h-2.5 rounded-[2px] bg-stone-100"></div>
              <span class="text-[10px] text-stone-400">idle</span>
            </div>
          </div>
        </div>
        <div class="flex items-center gap-1.5">
          <span class="text-xs text-stone-500 border border-stone-200 rounded-lg px-2.5 py-1 bg-white">Sydney (UTC+11)</span>
          <button class="text-[10px] text-stone-400 hover:text-stone-600 border border-stone-200 rounded-lg px-2 py-1 cursor-pointer">Detect</button>
        </div>
      </div>
    </div>

    <!-- Heatmap -->
    <div class="px-6 py-4" id="heatmap-a"></div>

    <!-- Save footer -->
    <div class="px-6 py-3 border-t border-stone-100 flex items-center gap-2">
      <button class="px-5 py-2 bg-stone-900 text-white rounded-lg text-sm font-medium hover:bg-stone-800 transition-colors cursor-pointer">
        Save schedule
      </button>
      <button class="px-4 py-2 text-stone-400 hover:text-stone-600 text-sm transition-colors cursor-pointer">
        Reset
      </button>
    </div>
  </div>

  <!-- ALL ACTIONS: one row of buttons -->
  <div class="flex items-center gap-2">
    <button class="flex-1 py-2.5 rounded-xl text-sm font-medium bg-stone-900 text-white hover:bg-stone-800 transition-colors cursor-pointer">
      Pinch me
    </button>
    <button class="flex-1 py-2.5 rounded-xl text-sm font-medium bg-amber-50 text-amber-700 border border-amber-200/60 hover:bg-amber-100 transition-colors cursor-pointer">
      Pause
    </button>
    <button class="py-2.5 px-4 rounded-xl text-sm font-medium text-stone-400 border border-stone-200 hover:text-amber-600 hover:border-amber-300 transition-colors cursor-pointer">
      Disconnect
    </button>
    <button class="py-2.5 px-4 rounded-xl text-sm font-medium text-stone-400 border border-stone-200 hover:text-red-500 hover:border-red-300 transition-colors cursor-pointer">
      Delete account
    </button>
  </div>

</main>

<script>
function buildHeatmapSafe(containerId) {
  const container = document.getElementById(containerId);
  const days = ['Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa', 'Su'];
  const hourLabels = { 0: '12a', 3: '3a', 6: '6a', 9: '9a', 12: '12p', 15: '3p', 18: '6p', 21: '9p' };
  const pings = {
    0: [5, 10, 15, 20], 1: [5, 10, 15, 20], 2: [5, 10, 15, 20], 3: [5, 10, 15, 20],
    4: [7, 12, 17, 22], 5: [9, 14, 19], 6: [9, 14, 19],
  };
  const colors = { ping: '#10b981', window: '#d1fae5', idle: '#f5f5f4' };
  const hours = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0];

  function cellType(day, hour) {
    const dayPings = pings[day] || [];
    for (const p of dayPings) {
      if (hour === p) return 'ping';
      if (hour > p && hour < p + 5) return 'window';
    }
    return 'idle';
  }

  function makeGrid(cols) {
    const row = document.createElement('div');
    row.style.cssText = 'display:grid;grid-template-columns:32px repeat(7,1fr);gap:2px;margin-bottom:' + (cols ? '4px' : '1.5px');
    return row;
  }

  const header = makeGrid(true);
  header.appendChild(document.createElement('div'));
  for (const d of days) {
    const cell = document.createElement('div');
    cell.textContent = d;
    cell.style.cssText = 'text-align:center;font-size:11px;font-weight:600;color:#78716c;padding:2px 0';
    header.appendChild(cell);
  }
  container.appendChild(header);

  for (const hour of hours) {
    const row = makeGrid(false);
    const labelCell = document.createElement('div');
    if (hourLabels[hour] !== undefined) {
      labelCell.style.cssText = 'display:flex;align-items:flex-start;justify-content:flex-end;padding-right:6px';
      const span = document.createElement('span');
      span.textContent = hourLabels[hour];
      span.style.cssText = "font-size:9px;color:#a8a29e;line-height:1;position:relative;top:-3px;font-family:'DM Mono',monospace";
      labelCell.appendChild(span);
    }
    row.appendChild(labelCell);

    for (let d = 0; d < 7; d++) {
      const type = cellType(d, hour);
      const cell = document.createElement('div');
      cell.style.cssText = 'height:14px;border-radius:2px;background:' + colors[type] + ';cursor:pointer;transition:opacity 0.1s';
      cell.addEventListener('mouseenter', function() { this.style.opacity = '0.7'; });
      cell.addEventListener('mouseleave', function() { this.style.opacity = '1'; });
      row.appendChild(cell);
    }
    container.appendChild(row);
  }
}

buildHeatmapSafe('heatmap-a');
</script>

</body>
</html>
